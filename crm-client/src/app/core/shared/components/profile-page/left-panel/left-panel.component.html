<app-toast></app-toast>
<div class="tw-bg-[var(--primary-color-text)]">
  <div
    class="left-top-area tw-p-[15px] tw-border-x tw-border-t tw-border-b-0 tw-border-[var(--primary-color)] tw-border-solid"
  >
    <div class="avatar-div">
      <p-avatar
        icon="pi pi-user"
        styleClass="tw-w-[80px] tw-h-[80px]"
        shape="circle"
      />
    </div>
    <div class="info-div tw-overflow-hidden tw-content-center">
      <app-base-label
        [label]="'NameNameNameNameName'"
        [labelStyle]="'tw-text-ellipsis tw-overflow-hidden profile-name-label'"
      ></app-base-label>
      <div class="email-div tw-flex">
        <div
          class="email-text tw-text-ellipsis tw-overflow-hidden tw-content-center"
        >
          email&#64;email.com
        </div>
        <p-button
          icon="pi pi-copy"
          [text]="true"
          [rounded]="true"
          (click)="copyEmailToClipboard('copied text')"
          pTooltip="Copy email to clipboard"
        />
      </div>
    </div>
    <div class="action-div">
      <p-button
        icon="pi pi-ellipsis-v"
        [text]="true"
        [rounded]="true"
        (click)="profileActionMenu.toggle($event)"
      />
      <p-tieredMenu #profileActionMenu [model]="actionMenu" [popup]="true" />
    </div>
  </div>

  <div
    class="action-btn-div tw-flex tw-flex-wrap tw-w-full tw-justify-between tw-p-[15px] tw-border-solid tw-border-[var(--primary-color)] tw-border-x tw-border-t-0 tw-border-b"
  >
    <p-button
      icon="pi pi-file-edit"
      [rounded]="true"
      [text]="true"
      outlined="true"
      [styleClass]="'tw-bg-[var(--primary-color-text)]'"
      pTooltip="Create a note"
    />
    <p-button
      icon="pi pi-envelope"
      [rounded]="true"
      [text]="true"
      outlined="true"
      [styleClass]="'tw-bg-[var(--primary-color-text)]'"
      pTooltip="Create an email"
    />
    <p-button
      icon="pi pi-phone"
      [rounded]="true"
      [text]="true"
      outlined="true"
      [styleClass]="'tw-bg-[var(--primary-color-text)]'"
      pTooltip="Make a phone call"
    />
    <p-button
      icon="pi pi-list-check"
      [rounded]="true"
      [text]="true"
      outlined="true"
      [styleClass]="'tw-bg-[var(--primary-color-text)]'"
      pTooltip="Create a task"
    />
    <p-button
      icon="pi pi-calendar-plus"
      [rounded]="true"
      [text]="true"
      outlined="true"
      [styleClass]="'tw-bg-[var(--primary-color-text)]'"
      pTooltip="Schedule a meeting"
    />
    <p-button
      icon="pi pi-ellipsis-h"
      [rounded]="true"
      [text]="true"
      outlined="true"
      [styleClass]="'tw-bg-[var(--primary-color-text)]'"
      pTooltip="More"
    />
  </div>
</div>

<div class="tw-border" *ngFor="let propertyGroup of propertiesList">
  <div
    *ngIf="
      propertyGroup.moduleCode == 'CONT_INFO' ||
      propertyGroup.moduleCode == 'COMP_INFO'
    "
    class="panel-div"
  >
    <app-accordion-panel class="profile-panel-div">
      <div acc-panel-header>
        {{ propertyGroup.moduleName }}
      </div>
      <div acc-panel-body class="panel-content-div">
        <div *ngFor="let property of propertyGroup.propertiesList" class="">
          <app-property
            [property]="property"
            *ngIf="property.isVisible"
          ></app-property>
        </div>
      </div>
    </app-accordion-panel>
  </div>
</div>
